#!/bin/bash
# å¿«é€Ÿéƒ¨ç½²è„šæœ¬ - ä¸€é”®éƒ¨ç½²æ‰“å°ä»£ç†æœåŠ¡

set -e

cd "$(dirname "$0")"

echo ""
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo "ğŸš€ æ‰“å°ä»£ç†å¿«é€Ÿéƒ¨ç½²"
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""

# æ£€æŸ¥éƒ¨ç½²è„šæœ¬æ˜¯å¦å­˜åœ¨
if [ ! -f "scripts/deploy/deploy-to-server.sh" ]; then
    echo "âŒ é”™è¯¯: æœªæ‰¾åˆ°éƒ¨ç½²è„šæœ¬"
    echo "   è¯·ç¡®ä¿åœ¨ print-agent æ ¹ç›®å½•è¿è¡Œæ­¤è„šæœ¬"
    exit 1
fi

# éƒ¨ç½²æœåŠ¡å™¨
echo "1ï¸âƒ£  éƒ¨ç½²æ‰“å°ä»£ç†æœåŠ¡å™¨..."
bash scripts/deploy/deploy-to-server.sh

echo ""
echo "2ï¸âƒ£  éƒ¨ç½²ç®¡ç†åå°..."
cd admin
bash deploy-admin.sh
cd ..

echo ""
echo "3ï¸âƒ£  æµ‹è¯•éƒ¨ç½²..."
if [ -f "scripts/test/test-printer-hub-domain.sh" ]; then
    bash scripts/test/test-printer-hub-domain.sh
else
    echo "   âš ï¸  æµ‹è¯•è„šæœ¬ä¸å­˜åœ¨ï¼Œè·³è¿‡æµ‹è¯•"
fi

echo ""
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo "âœ… éƒ¨ç½²å®Œæˆï¼"
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
