# âœ… æ‰“å°ä»£ç†éƒ¨ç½²æˆåŠŸ

## ğŸ‰ éƒ¨ç½²çŠ¶æ€

**éƒ¨ç½²æ—¶é—´**: 2025-11-22 00:35

### âœ… å·²éƒ¨ç½²çš„æœåŠ¡

1. **æ‰“å°ä»£ç†æœåŠ¡å™¨** (print-agent-server)
   - çŠ¶æ€: âœ… è¿è¡Œä¸­
   - ç«¯å£: 3000
   - è¿›ç¨‹ ID: 28321
   - éƒ¨ç½²æ–¹å¼: PM2
   - å¥åº·æ£€æŸ¥: âœ… æ­£å¸¸

2. **ç®¡ç†åå°** (print-agent-admin)
   - çŠ¶æ€: âœ… è¿è¡Œä¸­
   - ç«¯å£: 3001 (é€šè¿‡ Nginx ä»£ç†)
   - è¿›ç¨‹ ID: 28429
   - éƒ¨ç½²æ–¹å¼: PM2
   - è®¿é—®: âœ… æ­£å¸¸

## ğŸ“‹ æœåŠ¡ä¿¡æ¯

### PM2 è¿›ç¨‹çŠ¶æ€

```
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id â”‚ name                  â”‚ version â”‚ mode    â”‚ pid      â”‚ uptime â”‚ â†º    â”‚ status    â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1  â”‚ print-agent-admin     â”‚ 1.0.0   â”‚ fork    â”‚ 28429    â”‚ online â”‚ 0    â”‚ online    â”‚
â”‚ 0  â”‚ print-agent-server    â”‚ 2.0.0   â”‚ fork    â”‚ 28321    â”‚ online â”‚ 0    â”‚ online    â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è®¿é—®åœ°å€

- **æ‰“å°ä»£ç†æœåŠ¡å™¨**: 
  - æœ¬åœ°: http://127.0.0.1:3000
  - åŸŸå: https://printer-hub.easyify.uk
  - å¥åº·æ£€æŸ¥: http://127.0.0.1:3000/api/print/health

- **ç®¡ç†åå°**: 
  - åŸŸå: https://pa.easyify.uk
  - æœ¬åœ°: http://127.0.0.1:3001 (é€šè¿‡ Nginx ä»£ç†)

## ğŸ” æµ‹è¯•ç»“æœ

### âœ… é€šè¿‡çš„æµ‹è¯•

1. âœ… DNS è§£ææ­£ç¡®
   - printer-hub.easyify.uk â†’ 2.218.88.144
   - pa.easyify.uk â†’ 2.218.88.144
   - ssh.easyify.uk â†’ 2.218.88.144

2. âœ… SSH è¿æ¥æ­£å¸¸

3. âœ… ç®¡ç†åå°å¯è®¿é—® (https://pa.easyify.uk)

4. âœ… åŸŸåè®¿é—®æ‰“å°ä»£ç†æ­£å¸¸ (https://printer-hub.easyify.uk)

### âš ï¸ æ³¨æ„äº‹é¡¹

- ç›´æ¥ IP è®¿é—®ç«¯å£ 3000 å¤±è´¥ï¼ˆæ­£å¸¸ï¼Œé˜²ç«å¢™é˜»æ­¢å¤–éƒ¨è®¿é—®ï¼‰
- æœåŠ¡é€šè¿‡ Nginx åå‘ä»£ç†è®¿é—®ï¼Œè¿™æ˜¯æ­£ç¡®çš„é…ç½®

## ğŸ“ é…ç½®ä¿¡æ¯

### æœåŠ¡å™¨ä¿¡æ¯

- **æœåŠ¡å™¨ IP**: 2.218.88.144
- **æœåŠ¡å™¨ç”¨æˆ·**: kevin
- **éƒ¨ç½²è·¯å¾„**: ~/print-agent

### åŸŸåé…ç½®

- **æ‰“å°ä»£ç†**: printer-hub.easyify.uk
- **ç®¡ç†åå°**: pa.easyify.uk
- **SSH**: ssh.easyify.uk

### RustDesk é…ç½®

ç®¡ç†åå°æ˜¾ç¤ºçš„ RustDesk é…ç½®ï¼š
- **IDæœåŠ¡å™¨**: rustdesk.easyify.uk:21116
- **ä¸­ç»§æœåŠ¡å™¨**: rustdesk.easyify.uk:21117
- **å¯†é’¥**: VhrFMc1CL7jkcVmcwxdXI6KSkmRa6fuDtWKKM60vc1Q=

## ğŸ”§ ç®¡ç†å‘½ä»¤

### æŸ¥çœ‹æœåŠ¡çŠ¶æ€

```bash
ssh kevin@2.218.88.144 "pm2 list"
```

### æŸ¥çœ‹æœåŠ¡æ—¥å¿—

```bash
# æ‰“å°ä»£ç†æœåŠ¡å™¨æ—¥å¿—
ssh kevin@2.218.88.144 "pm2 logs print-agent-server"

# ç®¡ç†åå°æ—¥å¿—
ssh kevin@2.218.88.144 "pm2 logs print-agent-admin"
```

### é‡å¯æœåŠ¡

```bash
ssh kevin@2.218.88.144 "pm2 restart all"
```

### åœæ­¢æœåŠ¡

```bash
ssh kevin@2.218.88.144 "pm2 stop all"
```

### å¯åŠ¨æœåŠ¡

```bash
ssh kevin@2.218.88.144 "pm2 start all"
```

## ğŸ§ª éªŒè¯æœåŠ¡

### æµ‹è¯•æ‰“å°ä»£ç†æœåŠ¡å™¨

```bash
curl http://127.0.0.1:3000/api/print/health
# æˆ–
curl https://printer-hub.easyify.uk/api/print/health
```

### æµ‹è¯•ç®¡ç†åå°

```bash
curl https://pa.easyify.uk
# æˆ–æµè§ˆå™¨è®¿é—®
open https://pa.easyify.uk
```

## ğŸ“‹ ä¸‹ä¸€æ­¥

1. âœ… æœåŠ¡å·²éƒ¨ç½²å¹¶è¿è¡Œ
2. âœ… DNS é…ç½®æ­£ç¡®
3. âœ… æœåŠ¡å¥åº·æ£€æŸ¥é€šè¿‡
4. âš ï¸  Nginx é…ç½®å¯èƒ½éœ€è¦æ‰‹åŠ¨æ›´æ–°ï¼ˆå¦‚æœéœ€è¦ï¼‰

### å¦‚æœéœ€è¦æ›´æ–° Nginx é…ç½®

```bash
# SSH åˆ°æœåŠ¡å™¨
ssh kevin@2.218.88.144

# æ›´æ–° Nginx é…ç½®
cd ~/print-agent/admin
sudo cp nginx.conf /etc/nginx/sites-available/pa.easyify.uk
sudo ln -sf /etc/nginx/sites-available/pa.easyify.uk /etc/nginx/sites-enabled/pa.easyify.uk
sudo nginx -t
sudo systemctl reload nginx
```

## âœ… éƒ¨ç½²å®Œæˆæ£€æŸ¥æ¸…å•

- [x] æ‰“å°ä»£ç†æœåŠ¡å™¨éƒ¨ç½²æˆåŠŸ
- [x] ç®¡ç†åå°éƒ¨ç½²æˆåŠŸ
- [x] PM2 è¿›ç¨‹è¿è¡Œæ­£å¸¸
- [x] æœåŠ¡å¥åº·æ£€æŸ¥é€šè¿‡
- [x] DNS è§£ææ­£ç¡®
- [x] åŸŸåè®¿é—®æ­£å¸¸
- [ ] Nginx é…ç½®æ›´æ–°ï¼ˆå¯é€‰ï¼Œå¦‚æœéœ€è¦ï¼‰

## ğŸ¯ æ€»ç»“

**éƒ¨ç½²çŠ¶æ€**: âœ… æˆåŠŸ

æ‰€æœ‰æ ¸å¿ƒæœåŠ¡å·²æˆåŠŸéƒ¨ç½²å¹¶è¿è¡Œã€‚æœåŠ¡é€šè¿‡åŸŸåæ­£å¸¸è®¿é—®ï¼Œå¥åº·æ£€æŸ¥é€šè¿‡ã€‚å¯ä»¥ç›´æ¥ä½¿ç”¨æ‰“å°ä»£ç†æœåŠ¡äº†ï¼

